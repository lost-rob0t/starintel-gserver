<html
  ><head
    ><title
      >Function START-ACTORS</title
    ><meta content="text/html; charset=utf-8" http-equiv="Content-Type"
    /><link href="../style.css" rel="stylesheet"
    /><link title="Print" href="../print.css" rel="alternate stylesheet"
    /></head
  ><body
    ><div class="qbook"
      ><div class="computational-element"
        ><h1
          >Function: START-ACTORS</h1
        ><div class="contents"
          ><h2
            >Source</h2
          ><pre
            ><code class="code"
              >(defun start-actors (&amp;key rabbit-user rabbit-host rabbit-password rabbit-vhost rabbit-port)
  (start-actor-system)
  (setf *producer-agent* (make-producer-agent (star.producers:make-producer :name &quot;actor-producer&quot;
                                                                            :exchange-name &quot;documents&quot;
                                                                            :host rabbit-host
                                                                            :port rabbit-port
                                                                            :user rabbit-user
                                                                            :password rabbit-password
                                                                            :vhost rabbit-vhost) *sys*))

  ;; FIXME
  (let ((*gc-timer* (wt:make-wheel-timer)))
    (wt:schedule-recurring *gc-timer* 1 3600 (lambda ()
                                               (sb-ext:gc :full t))))
  (start-couchdb-agent *sys*)
  (start-actor-index *sys*)
  (start-couchdb-gets *sys*)
  (start-couchdb-inserts *sys*)
  (start-target-timer)
  (start-target-actor *sys*)
  (nhooks:run-hook star:*actors-start-hook*))</code
            ></pre
          ><a href="../Producer_0020Agent.html#function_005FSTAR.ACTORS_003A_003ASTART-ACTORS"
            >Source Context</a
          ></div
        ></div
      ></div
    ></body
  ></html
>
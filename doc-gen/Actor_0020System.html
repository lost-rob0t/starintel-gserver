<html
  ><head
    ><title
      >Documentation for Starintel Server</title
    ><meta content="text/html; charset=utf-8" http-equiv="Content-Type"
    /><link href="style.css" rel="stylesheet"
    /><link title="Print" href="print.css" rel="alternate stylesheet"
    /></head
  ><body
    ><div class="qbook"
      ><h1 class="title"
        >Documentation for Starintel Server</h1
      ><div class="contents"
        ><h2
  ><a name="Actor_0020System"
  >Actor System</a
>&nbsp;</h2
><div class="nav-links"
  ><a class="nav-link" href="StarIntel_0020Gserver.html#Settings"
  >prev</a
> | <span class="dead-nav-link"
  >up</span
> | <a href="Actor_0020System.html#Target_0020Routing"
  >next</a
> | <a href="index.html"
    >toc</a
  ></div
>
<pre
  ><code class="code"
    ><span class="first-line"><span class="paren">(</span>in-package :star.actors<span class="paren">)</span></span><span class"body"></span></code
  ></pre
>
<div class="computational-element-link computational-element-link-variable"
  ><p
    ><a class="descriptor variable" href="api/variable_005FSTAR.ACTORS_003A_003A_002ASYS_002A.html" name="variable_005FSTAR.ACTORS_003A_003A_002ASYS_002A"
      >Variable *SYS*</a
    > the main actor system</p
  ></div
>

<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-ACTOR-SYSTEM.html" name="function_005FSTAR.ACTORS_003A_003ASTART-ACTOR-SYSTEM"
      >Function START-ACTOR-SYSTEM</a
    > Start the actors.</p
  ></div
>


<h3
  ><a name="Target_0020Routing"
  >Target Routing</a
>&nbsp;</h3
><div class="nav-links"
  ><a class="nav-link" href="Actor_0020System.html"
  >prev</a
> | <a class="nav-link" href="Actor_0020System.html"
  >up</a
> | <a href="Actor_0020System.html#Couchdb_0020Actors"
  >next</a
> | <a href="index.html"
    >toc</a
  ></div
><div class="computational-element-link computational-element-link-variable"
  ><p
    ><a class="descriptor variable" href="api/variable_005FSTAR.ACTORS_003A_003A_002AACTOR-INDEX-AGENT_002A.html" name="variable_005FSTAR.ACTORS_003A_003A_002AACTOR-INDEX-AGENT_002A"
      >Variable *ACTOR-INDEX-AGENT*</a
    > Actor index agent is responsible for registering actors for targets.</p
  ></div
>

<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-ACTOR-INDEX.html" name="function_005FSTAR.ACTORS_003A_003ASTART-ACTOR-INDEX"
      >Function START-ACTOR-INDEX</a
    > Start the actor index for target routing.</p
  ></div
>

<p> Register an actor for recieving target inputs
 Actors must be registered with actor-index before they will get any target messages.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003AREGISTER-ACTOR.html" name="function_005FSTAR.ACTORS_003A_003AREGISTER-ACTOR"
      >Function REGISTER-ACTOR</a
    > </p
  ></div
>

<p> Return the destination actor symbol by actor name string
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003AGET-DEST-ACTOR.html" name="function_005FSTAR.ACTORS_003A_003AGET-DEST-ACTOR"
      >Function GET-DEST-ACTOR</a
    > </p
  ></div
>

<p> Send the the target to the destination actor
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003AROUTE-TARGET.html" name="function_005FSTAR.ACTORS_003A_003AROUTE-TARGET"
      >Function ROUTE-TARGET</a
    > </p
  ></div
>

<h3
  ><a name="Couchdb_0020Actors"
  >Couchdb Actors</a
>&nbsp;</h3
><div class="nav-links"
  ><a class="nav-link" href="Actor_0020System.html#Target_0020Routing"
  >prev</a
> | <a class="nav-link" href="Actor_0020System.html"
  >up</a
> | <a href="Actor_0020System.html#Target_0020Actor"
  >next</a
> | <a href="index.html"
    >toc</a
  ></div
><p> These are sorta kinda maybe deprecated.
 In the future these will not be removed, but instead re-worked, outside of consumers these can provide feedback to incase db op failed
 Consumers just consume and no way to really provide said feedback.
</p>
<div class="computational-element-link computational-element-link-variable"
  ><p
    ><a class="descriptor variable" href="api/variable_005FSTAR.ACTORS_003A_003A_002ACOUCHDB-AGENT_002A.html" name="variable_005FSTAR.ACTORS_003A_003A_002ACOUCHDB-AGENT_002A"
      >Variable *COUCHDB-AGENT*</a
    > </p
  ></div
>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003AMAKE-COUCHDB-AGENT.html" name="function_005FSTAR.ACTORS_003A_003AMAKE-COUCHDB-AGENT"
      >Function MAKE-COUCHDB-AGENT</a
    > </p
  ></div
>


<p> Get the couchdb client for use with cl-couch
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-CLIENT.html" name="function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-CLIENT"
      >Function COUCHDB-AGENT-CLIENT</a
    > Get the couchdb client for use with cl-couch</p
  ></div
>

<p> Preform a insert operation into couchdb.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-INSERT.html" name="function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-INSERT"
      >Function COUCHDB-AGENT-INSERT</a
    > Preform a insert operation into couchdb.</p
  ></div
>

<p> Preform a update operation on couchdb. You must provide the revision tag.
 Couchdb uses the _rev tag. you can learn more about docment revisions here
 https://dba.stackexchange.com/a/299078
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-UPDATE.html" name="function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-UPDATE"
      >Function COUCHDB-AGENT-UPDATE</a
    > </p
  ></div
>
<p> Preform a delete operation on couchdb.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-DELETE.html" name="function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-DELETE"
      >Function COUCHDB-AGENT-DELETE</a
    > </p
  ></div
>

<p>Couchdb views are key-value btrees that are generated from map-reduce results over a couchdb database
this allows for fast lookup and creating analytic querys
Read more about views here: https://docs.couchdb.org/en/stable/ddocs/views/intro.html
Query a couchdb view.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-GET-VIEW.html" name="function_005FSTAR.ACTORS_003A_003ACOUCHDB-AGENT-GET-VIEW"
      >Function COUCHDB-AGENT-GET-VIEW</a
    > </p
  ></div
>

<p> Start the couchdb agent.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-COUCHDB-AGENT.html" name="function_005FSTAR.ACTORS_003A_003ASTART-COUCHDB-AGENT"
      >Function START-COUCHDB-AGENT</a
    > </p
  ></div
>


<div class="computational-element-link computational-element-link-variable"
  ><p
    ><a class="descriptor variable" href="api/variable_005FSTAR.ACTORS_003A_003A_002ACOUCHDB-INSERTS_002A.html" name="variable_005FSTAR.ACTORS_003A_003A_002ACOUCHDB-INSERTS_002A"
      >Variable *COUCHDB-INSERTS*</a
    > Actor responsible for handling couchdb inserts</p
  ></div
>
<p> Start the couchdb inserts actor
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-COUCHDB-INSERTS.html" name="function_005FSTAR.ACTORS_003A_003ASTART-COUCHDB-INSERTS"
      >Function START-COUCHDB-INSERTS</a
    > </p
  ></div
>


<div class="computational-element-link computational-element-link-variable"
  ><p
    ><a class="descriptor variable" href="api/variable_005FSTAR.ACTORS_003A_003A_002ACOUCHDB-GETS_002A.html" name="variable_005FSTAR.ACTORS_003A_003A_002ACOUCHDB-GETS_002A"
      >Variable *COUCHDB-GETS*</a
    > The Couchdb actor responsible for handling document gets.</p
  ></div
>
<p> Start the couchdb GET actor.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-COUCHDB-GETS.html" name="function_005FSTAR.ACTORS_003A_003ASTART-COUCHDB-GETS"
      >Function START-COUCHDB-GETS</a
    > </p
  ></div
>
<h3
  ><a name="Target_0020Actor"
  >Target Actor</a
>&nbsp;</h3
><div class="nav-links"
  ><a class="nav-link" href="Actor_0020System.html#Couchdb_0020Actors"
  >prev</a
> | <a class="nav-link" href="Actor_0020System.html"
  >up</a
> | <a href="Actor_0020System.html#Target_0020Operations"
  >next</a
> | <a href="index.html"
    >toc</a
  ></div
><p> The target actor is responsible for routing TARGET documents to actors. Actors can reside over rabbitmq or in same proccess with lisp
</p>
<div class="computational-element-link computational-element-link-variable"
  ><p
    ><a class="descriptor variable" href="api/variable_005FSTAR.ACTORS_003A_003A_002ATARGETS_002A.html" name="variable_005FSTAR.ACTORS_003A_003A_002ATARGETS_002A"
      >Variable *TARGETS*</a
    > The Target actor.</p
  ></div
>

<h3
  ><a name="Target_0020Operations"
  >Target Operations</a
>&nbsp;</h3
><div class="nav-links"
  ><a class="nav-link" href="Actor_0020System.html#Target_0020Actor"
  >prev</a
> | <a class="nav-link" href="Actor_0020System.html"
  >up</a
> | <a href="Producer_0020Agent.html"
  >next</a
> | <a href="index.html"
    >toc</a
  ></div
><p> Fetch targets from database
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003AGET-TARGETS.html" name="function_005FSTAR.ACTORS_003A_003AGET-TARGETS"
      >Function GET-TARGETS</a
    > </p
  ></div
>

<p> Sumbit the target for execution.
 target actor will route the message to a registered lisp actor or submit to rabbitmq
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASUMBIT-TARGET.html" name="function_005FSTAR.ACTORS_003A_003ASUMBIT-TARGET"
      >Function SUMBIT-TARGET</a
    > Create a message for the *targets* actor.</p
  ></div
>

<p> return t if this is the first time we handled this target.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003AFIRST-TIME-P.html" name="function_005FSTAR.ACTORS_003A_003AFIRST-TIME-P"
      >Function FIRST-TIME-P</a
    > </p
  ></div
>

<p> Return t if this target document is transient, which means not to save in database.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ATARGET-TRANSIENT-P.html" name="function_005FSTAR.ACTORS_003A_003ATARGET-TRANSIENT-P"
      >Function TARGET-TRANSIENT-P</a
    > </p
  ></div
>

<p>  Start the targets loader
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-TARGET-LOADER.html" name="function_005FSTAR.ACTORS_003A_003ASTART-TARGET-LOADER"
      >Function START-TARGET-LOADER</a
    > </p
  ></div
>


<p> Start the target routing actor.
</p>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-TARGET-ACTOR.html" name="function_005FSTAR.ACTORS_003A_003ASTART-TARGET-ACTOR"
      >Function START-TARGET-ACTOR</a
    > </p
  ></div
>

<p> Start the target timer
 The target timer handles recurring targets.
</p>
<div class="computational-element-link computational-element-link-variable"
  ><p
    ><a class="descriptor variable" href="api/variable_005FSTAR.ACTORS_003A_003A_002ATARGET-TIMER_002A.html" name="variable_005FSTAR.ACTORS_003A_003A_002ATARGET-TIMER_002A"
      >Variable *TARGET-TIMER*</a
    > simple wheel timer for targets</p
  ></div
>
<div class="computational-element-link computational-element-link-function"
  ><p
    ><a class="descriptor function" href="api/function_005FSTAR.ACTORS_003A_003ASTART-TARGET-TIMER.html" name="function_005FSTAR.ACTORS_003A_003ASTART-TARGET-TIMER"
      >Function START-TARGET-TIMER</a
    > </p
  ></div
>



<div class="computational-element-link computational-element-link-macro"
  ><p
    ><a class="descriptor macro" href="api/macro_005FSTAR.ACTORS_003A_003AWITH-JSON.html" name="macro_005FSTAR.ACTORS_003A_003AWITH-JSON"
      >Macro WITH-JSON</a
    > </p
  ></div
>




<p> Define a actor and its start function
</p>
<div class="computational-element-link computational-element-link-macro"
  ><p
    ><a class="descriptor macro" href="api/macro_005FSTAR.ACTORS_003A_003ADEFINE-ACTOR.html" name="macro_005FSTAR.ACTORS_003A_003ADEFINE-ACTOR"
      >Macro DEFINE-ACTOR</a
    > </p
  ></div
>

</div
      ></div
    ></body
  ></html
>